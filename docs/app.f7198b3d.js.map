{"version":3,"sources":["webpack:///app.f7198b3d.js","webpack:///./src/components/map-view.js","webpack:///./src/components/app-main.js","webpack:///./src/index.js","webpack:///./src/reducers/app-reducers.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","S7ow","__webpack_exports__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1_react_dom__","n","__WEBPACK_IMPORTED_MODULE_2_react_redux__","__WEBPACK_IMPORTED_MODULE_3_esri_loader__","__WEBPACK_IMPORTED_MODULE_4_arcgis_react_redux_legend__","styles","fullSize","width","height","thirtyPercent","MapUi","_Component","_temp","_this","_ret","this","_len","arguments","length","args","Array","_key","apply","concat","initialState","title","state","createMap","webMapId","_this$props","props","mapId","initLegend","i","Map","View","WebMap","view","container","findDOMNode","mapContainer","map","portalItem","id","padding","right","then","setState","MapImageLayer","layer1","url","layer2","visible","layer3","basemap","layers","lyr","goTo","fullExtent","getUrlParameter","name","replace","regex","RegExp","results","exec","location","search","decodeURIComponent","componentDidMount","webmapId","render","_this2","style","ref","node","mapDispatchToProps","dispatch","cilB","hlkK","defineProperty","d","AppMain","__WEBPACK_IMPORTED_MODULE_1_esri_loader_react__","__WEBPACK_IMPORTED_MODULE_1_esri_loader_react___default","__WEBPACK_IMPORTED_MODULE_2__map_view__","loaded","onEsriApiLoaded","error","options","a","ready","lVK7","init","App","default","store","__WEBPACK_IMPORTED_MODULE_2_redux__","__WEBPACK_IMPORTED_MODULE_6__reducers_app_reducers__","__WEBPACK_IMPORTED_MODULE_4_redux_thunk___default","logger","root","__WEBPACK_IMPORTED_MODULE_1_preact__","__WEBPACK_IMPORTED_MODULE_3_react_redux__","document","querySelector","__WEBPACK_IMPORTED_MODULE_0__index_css__","__WEBPACK_IMPORTED_MODULE_4_redux_thunk__","__WEBPACK_IMPORTED_MODULE_5_redux_logger__","collapsed","getState","action","logEntry","nNjW","__WEBPACK_IMPORTED_MODULE_0_redux__","__WEBPACK_IMPORTED_MODULE_1_arcgis_react_redux_legend__","AppReducers","mapLegendConfig"],"mappings":"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","file":"app.f7198b3d.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"KxAI\");\nmodule.exports = __webpack_require__(\"lVK7\");\n\n\n/***/ }),\n\n/***/ \"S7ow\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"EF6w\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(\"AX2D\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_redux__ = __webpack_require__(\"RH2O\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_esri_loader__ = __webpack_require__(\"1WWN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_arcgis_react_redux_legend__ = __webpack_require__(\"EO6s\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\nvar styles = {\n  fullSize: {\n    width: '100%',\n    height: '100%'\n  },\n  thirtyPercent: {\n    width: '30%',\n    height: '100%'\n  }\n};\n\nvar MapUi = function (_Component) {\n  _inherits(MapUi, _Component);\n\n  function MapUi() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, MapUi);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.initialState = {\n      title: null\n    }, _this.state = _this.initialState, _this.createMap = function (webMapId) {\n      var _this$props = _this.props,\n          mapId = _this$props.mapId,\n          initLegend = _this$props.initLegend;\n\n\n      if (webMapId) {\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_esri_loader__[\"dojoRequire\"])(['esri/Map', 'esri/views/MapView', 'esri/WebMap'], function (Map, View, WebMap) {\n          var view = new View({\n            container: __WEBPACK_IMPORTED_MODULE_1_react_dom__[\"default\"].findDOMNode(_this.mapContainer),\n            map: new WebMap({\n              portalItem: {\n                id: webMapId\n              }\n            }),\n            padding: { right: 280 }\n          });\n\n          view.map.portalItem.then(function () {\n            _this.setState({ title: view.map.portalItem.title });\n          });\n\n          // calling this initialises the legend control\n          initLegend(view, mapId);\n        });\n      } else {\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_esri_loader__[\"dojoRequire\"])(['esri/Map', 'esri/views/MapView', 'esri/layers/MapImageLayer'], function (Map, View, MapImageLayer) {\n          var layer1 = new MapImageLayer({\n            url: 'https://sampleserver6.arcgisonline.com/arcgis/rest/services/RedlandsEmergencyVehicles/MapServer'\n          });\n\n          var layer2 = new MapImageLayer({\n            url: 'https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer',\n            visible: false\n          });\n\n          var layer3 = new MapImageLayer({\n            url: 'https://sampleserver6.arcgisonline.com/arcgis/rest/services/Hurricanes/MapServer/'\n          });\n\n          var map = new Map({\n            basemap: 'topo',\n            layers: [layer1, layer2, layer3]\n          });\n\n          var view = new View({\n            container: __WEBPACK_IMPORTED_MODULE_1_react_dom__[\"default\"].findDOMNode(_this.mapContainer),\n            map: map,\n            padding: { right: 280 }\n          });\n\n          // calling this initialises the legend control\n          initLegend(view, mapId);\n\n          layer3.then(function (lyr) {\n            view.goTo(lyr.fullExtent);\n          });\n        });\n      }\n    }, _this.getUrlParameter = function (name) {\n      name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n      var regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\n      var results = regex.exec(location.search);\n      return results === null ? null : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  MapUi.prototype.componentDidMount = function componentDidMount() {\n    var webmapId = this.getUrlParameter('webmap');\n\n    this.createMap(webmapId);\n  };\n\n  MapUi.prototype.render = function render() {\n    var _this2 = this;\n\n    var mapId = this.props.mapId;\n    var title = this.state.title;\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'div',\n      { style: styles.fullSize, ref: function ref(node) {\n          return _this2.mapContainer = node;\n        } },\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_4_arcgis_react_redux_legend__[\"b\" /* MapLegend */], { style: styles.thirtyPercent, mapId: mapId, title: title })\n    );\n  };\n\n  return MapUi;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    initLegend: function initLegend(view, mapId) {\n      dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_arcgis_react_redux_legend__[\"c\" /* setInitialLegend */])(view, mapId));\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__[\"b\" /* connect */])(null, mapDispatchToProps)(MapUi));\n\n/***/ }),\n\n/***/ \"cilB\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"hlkK\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AppMain; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"EF6w\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_esri_loader_react__ = __webpack_require__(\"RgmM\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_esri_loader_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_esri_loader_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__map_view__ = __webpack_require__(\"S7ow\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar AppMain = function (_Component) {\n  _inherits(AppMain, _Component);\n\n  function AppMain() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, AppMain);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.initialState = {\n      loaded: false\n    }, _this.state = _this.initialState, _this.onEsriApiLoaded = function (error) {\n      if (!error) {\n        _this.setState({ loaded: true });\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  AppMain.prototype.render = function render() {\n    var options = {\n      url: 'https://js.arcgis.com/4.4/'\n    };\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'div',\n      null,\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_1_esri_loader_react___default.a, { options: options, ready: this.onEsriApiLoaded }),\n      this.state.loaded ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_2__map_view__[\"a\" /* default */], { mapId: 'Legend example' }) : null\n    );\n  };\n\n  return AppMain;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n\n\n/***/ }),\n\n/***/ \"lVK7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index_css__ = __webpack_require__(\"cilB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__index_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact__ = __webpack_require__(\"EF6w\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_redux__ = __webpack_require__(\"2KeS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_redux__ = __webpack_require__(\"RH2O\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_redux_thunk__ = __webpack_require__(\"4ufr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_redux_thunk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_redux_thunk__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_redux_logger__ = __webpack_require__(\"oSVy\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_redux_logger___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_redux_logger__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__reducers_app_reducers__ = __webpack_require__(\"nNjW\");\n\n\n\n\n\n\n\n\n\nif (false) {\n  // Enable preact devtools\n  require('preact/devtools');\n}\n\n\n\nvar logger = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_redux_logger__[\"createLogger\"])({\n  collapsed: function collapsed(getState, action, logEntry) {\n    return !logEntry.error;\n  }\n});\n\nvar root = void 0;\nfunction init() {\n  var App = __webpack_require__(\"hlkK\").default;\n  var store = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux__[\"a\" /* createStore */])(__WEBPACK_IMPORTED_MODULE_6__reducers_app_reducers__[\"a\" /* default */], __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux__[\"b\" /* applyMiddleware */])(__WEBPACK_IMPORTED_MODULE_4_redux_thunk___default.a, logger));\n  root = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_preact__[\"render\"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_preact__[\"h\"])(\n    __WEBPACK_IMPORTED_MODULE_3_react_redux__[\"a\" /* Provider */],\n    { store: store },\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_preact__[\"h\"])(App, null)\n  ), document.querySelector('#app'), root);\n}\n\nif (false) {\n  module.hot.accept('./components/app-main', init);\n}\n\ninit();\n\n/***/ }),\n\n/***/ \"nNjW\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_redux__ = __webpack_require__(\"2KeS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_arcgis_react_redux_legend__ = __webpack_require__(\"EO6s\");\n\n\n\nvar AppReducers = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_redux__[\"d\" /* combineReducers */])({ mapLegendConfig: __WEBPACK_IMPORTED_MODULE_1_arcgis_react_redux_legend__[\"a\" /* reducer */] });\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (AppReducers);\n\n/***/ })\n\n},[0]);\n\n\n// WEBPACK FOOTER //\n// app.f7198b3d.js","import {h, render, Component} from 'preact'\r\nimport ReactDOM from 'react-dom';\r\nimport { connect } from 'react-redux';\r\nimport { dojoRequire } from 'esri-loader';\r\nimport { MapLegend, setInitialLegend } from 'arcgis-react-redux-legend';\r\n\r\nconst styles = {\r\n  fullSize: {\r\n    width: '100%',\r\n    height: '100%'\r\n  },\r\n  thirtyPercent: {\r\n    width: '30%',\r\n    height: '100%'\r\n  }\r\n};\r\n\r\nclass MapUi extends Component {\r\n  initialState = {\r\n    title: null\r\n  };\r\n  state = this.initialState;\r\n\r\n  createMap = webMapId => {\r\n    const { mapId, initLegend } = this.props;\r\n\r\n    if (webMapId) {\r\n      dojoRequire(\r\n        [\r\n          'esri/Map',\r\n          'esri/views/MapView',\r\n          'esri/WebMap'\r\n        ],\r\n        (Map, View, WebMap) => {\r\n          const view = new View({\r\n            container: ReactDOM.findDOMNode(this.mapContainer),\r\n            map: new WebMap({\r\n              portalItem: {\r\n                id: webMapId\r\n              }\r\n            }),\r\n            padding: { right: 280 }\r\n          });\r\n\r\n          view.map.portalItem.then(() => {\r\n            this.setState({ title: view.map.portalItem.title });\r\n          });\r\n\r\n          // calling this initialises the legend control\r\n          initLegend(view, mapId);\r\n        }\r\n      );\r\n    } else {\r\n      dojoRequire(\r\n        [\r\n          'esri/Map',\r\n          'esri/views/MapView',\r\n          'esri/layers/MapImageLayer'\r\n        ],\r\n        (Map, View, MapImageLayer) => {\r\n          const layer1 = new MapImageLayer({\r\n            url: 'https://sampleserver6.arcgisonline.com/arcgis/rest/services/RedlandsEmergencyVehicles/MapServer'\r\n          });\r\n\r\n          const layer2 = new MapImageLayer({\r\n            url: 'https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer',\r\n            visible: false\r\n          });\r\n\r\n          const layer3 = new MapImageLayer({\r\n            url: 'https://sampleserver6.arcgisonline.com/arcgis/rest/services/Hurricanes/MapServer/'\r\n          });\r\n\r\n          const map = new Map({\r\n            basemap: 'topo',\r\n            layers: [layer1, layer2, layer3]\r\n          });\r\n\r\n          const view = new View({\r\n            container: ReactDOM.findDOMNode(this.mapContainer),\r\n            map: map,\r\n            padding: { right: 280 }\r\n          });\r\n\r\n          // calling this initialises the legend control\r\n          initLegend(view, mapId);\r\n\r\n          layer3.then(function(lyr) {\r\n            view.goTo(lyr.fullExtent);\r\n          });\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  getUrlParameter = name => {\r\n    name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\r\n    var regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\r\n    var results = regex.exec(location.search);\r\n    return results === null ? null : decodeURIComponent(results[1].replace(/\\+/g, ' '));\r\n  };\r\n\r\n  componentDidMount() {\r\n    const webmapId = this.getUrlParameter('webmap');\r\n\r\n    this.createMap(webmapId);\r\n  }\r\n\r\n  render() {\r\n    const { mapId } = this.props;\r\n    const { title } = this.state;\r\n    return (\r\n      <div style={styles.fullSize} ref={node => (this.mapContainer = node)}>\r\n        <MapLegend style={styles.thirtyPercent} mapId={mapId} title={title} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    initLegend: (view, mapId) => {\r\n      dispatch(setInitialLegend(view, mapId));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(MapUi);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/map-view.js","import {h, Component} from 'preact'\r\nimport EsriLoader from 'esri-loader-react';\r\n\r\nimport MapUi from './map-view';\r\n\r\nexport default class AppMain extends Component {\r\n  initialState = {\r\n    loaded: false\r\n  };\r\n  state = this.initialState;\r\n\r\n  onEsriApiLoaded = error => {\r\n    if (!error) {\r\n      this.setState({ loaded: true });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const options = {\r\n      url: 'https://js.arcgis.com/4.4/'\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        <EsriLoader options={options} ready={this.onEsriApiLoaded} />\r\n        {this.state.loaded ? <MapUi mapId={'Legend example'} /> : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/app-main.js","import './index.css'\n\nimport {h, render} from 'preact'\n\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\n\nif (process.env.NODE_ENV === 'development') {\n  // Enable preact devtools\n  require('preact/devtools')\n}\n\nimport AppReducers from './reducers/app-reducers';\n\nconst logger = createLogger({\n  collapsed: (getState, action, logEntry) => !logEntry.error\n});\n\nlet root\nfunction init() {\n  let App = require('./components/app-main').default\n  const store = createStore(AppReducers, applyMiddleware(thunk, logger));\n  root = render(\n    <Provider store={store}>\n      <App />\n    </Provider>, \n    document.querySelector('#app'), \n    root)\n}\n\nif (module.hot) {\n  module.hot.accept('./components/app-main', init)\n}\n\ninit()\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { combineReducers } from 'redux';\r\nimport { reducer as mapLegendConfig } from 'arcgis-react-redux-legend';\r\n\r\nconst AppReducers = combineReducers({ mapLegendConfig });\r\n\r\nexport default AppReducers;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/app-reducers.js"],"sourceRoot":""}