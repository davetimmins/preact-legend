{"version":3,"sources":["webpack:///app.c20ae69a.js","webpack:///./src/components/map-view.js","webpack:///./src/components/app-main.js","webpack:///./src/index.js","webpack:///./src/reducers/app-reducers.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","1","S7ow","__webpack_exports__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_2_react_redux__","__WEBPACK_IMPORTED_MODULE_3_esri_loader_react__","__WEBPACK_IMPORTED_MODULE_4_arcgis_react_redux_legend__","__WEBPACK_IMPORTED_MODULE_5_is_webgl_enabled__","__WEBPACK_IMPORTED_MODULE_5_is_webgl_enabled___default","n","__WEBPACK_IMPORTED_MODULE_6_is_mobile__","__WEBPACK_IMPORTED_MODULE_6_is_mobile___default","MapUi","_Component","_temp","_this","_ret","this","_len","arguments","length","args","Array","_key","apply","concat","initialState","title","state","getUrlParameter","name","replace","regex","RegExp","results","exec","location","search","decodeURIComponent","render","_this2","_props","props","mapId","initLegend","options","mapContainerClassName","modulesToLoad","onReady","_ref","_ref$loadedModules","loadedModules","Map","View","WebMap","MapImageLayer","FeatureLayer","containerNode","webMapId","view","container","map","portalItem","id","padding","right","then","setState","layer1","url","layer2","visible","layer3","layer4","basemap","layers","lyr","goTo","fullExtent","onError","error","console","className","mapDispatchToProps","dispatch","cilB","hlkK","defineProperty","d","AppMain","__WEBPACK_IMPORTED_MODULE_1__map_view__","lVK7","init","App","default","store","__WEBPACK_IMPORTED_MODULE_2_redux__","__WEBPACK_IMPORTED_MODULE_6__reducers_app_reducers__","__WEBPACK_IMPORTED_MODULE_4_redux_thunk___default","a","logger","root","__WEBPACK_IMPORTED_MODULE_1_preact__","__WEBPACK_IMPORTED_MODULE_3_react_redux__","document","querySelector","__WEBPACK_IMPORTED_MODULE_0__index_css__","__WEBPACK_IMPORTED_MODULE_4_redux_thunk__","__WEBPACK_IMPORTED_MODULE_5_redux_logger__","collapsed","getState","action","logEntry","nNjW","__WEBPACK_IMPORTED_MODULE_0_redux__","__WEBPACK_IMPORTED_MODULE_1_arcgis_react_redux_legend__","AppReducers","mapLegendConfig"],"mappings":"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","file":"app.c20ae69a.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"+prg\");\nmodule.exports = __webpack_require__(\"lVK7\");\n\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ \"S7ow\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"rMlB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(\"AX2D\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_redux__ = __webpack_require__(\"RH2O\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_esri_loader_react__ = __webpack_require__(\"CK1X\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_arcgis_react_redux_legend__ = __webpack_require__(\"EO6s\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_is_webgl_enabled__ = __webpack_require__(\"caru\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_is_webgl_enabled___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_is_webgl_enabled__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_is_mobile__ = __webpack_require__(\"6VvU\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_is_mobile___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_is_mobile__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\nvar MapUi = function (_Component) {\n  _inherits(MapUi, _Component);\n\n  function MapUi() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, MapUi);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.initialState = {\n      title: null\n    }, _this.state = _this.initialState, _this.getUrlParameter = function (name) {\n      name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n      var regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\n      var results = regex.exec(location.search);\n      return results === null ? null : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  MapUi.prototype.render = function render() {\n    var _this2 = this;\n\n    var _props = this.props,\n        mapId = _props.mapId,\n        initLegend = _props.initLegend,\n        options = _props.options;\n    var title = this.state.title;\n\n    return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"c\" /* h */])(\n      __WEBPACK_IMPORTED_MODULE_3_esri_loader_react__[\"a\" /* default */],\n      {\n        mapContainerClassName: 'fullSize',\n        options: options,\n        modulesToLoad: ['esri/Map', __WEBPACK_IMPORTED_MODULE_5_is_webgl_enabled___default()() && !__WEBPACK_IMPORTED_MODULE_6_is_mobile___default()() ? 'esri/views/SceneView' : 'esri/views/MapView', 'esri/WebMap', 'esri/layers/MapImageLayer', 'esri/layers/FeatureLayer'],\n        onReady: function onReady(_ref) {\n          var _ref$loadedModules = _ref.loadedModules,\n              Map = _ref$loadedModules[0],\n              View = _ref$loadedModules[1],\n              WebMap = _ref$loadedModules[2],\n              MapImageLayer = _ref$loadedModules[3],\n              FeatureLayer = _ref$loadedModules[4],\n              containerNode = _ref.containerNode;\n\n\n          var webMapId = _this2.getUrlParameter('webmap');\n\n          if (webMapId) {\n\n            var view = new View({\n              container: containerNode,\n              map: new WebMap({\n                portalItem: {\n                  id: webMapId\n                }\n              }),\n              padding: { right: 280 }\n            });\n\n            view.map.portalItem.then(function () {\n              _this2.setState({ title: view.map.portalItem.title });\n            });\n\n            // calling this initialises the legend control\n            initLegend(view, mapId);\n          } else {\n\n            var layer1 = new MapImageLayer({\n              url: 'https://sampleserver6.arcgisonline.com/arcgis/rest/services/RedlandsEmergencyVehicles/MapServer'\n            });\n\n            var layer2 = new MapImageLayer({\n              url: 'https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer',\n              visible: false\n            });\n\n            var layer3 = new MapImageLayer({\n              url: 'https://sampleserver6.arcgisonline.com/arcgis/rest/services/Hurricanes/MapServer/'\n            });\n\n            var layer4 = new FeatureLayer({\n              url: 'http://services2.arcgis.com/j80Jz20at6Bi0thr/arcgis/rest/services/HawaiiLavaFlowHazardZones/FeatureServer/0'\n            });\n\n            var map = new Map({\n              basemap: 'topo',\n              layers: [layer1, layer4, layer2, layer3]\n            });\n\n            var _view = new View({\n              container: containerNode,\n              map: map,\n              padding: { right: 280 }\n            });\n\n            // calling this initialises the legend control\n            initLegend(_view, mapId);\n\n            layer3.then(function (lyr) {\n              _view.goTo(lyr.fullExtent);\n            });\n          }\n        },\n        onError: function onError(error) {\n          return console.error(error);\n        }\n      },\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"c\" /* h */])(__WEBPACK_IMPORTED_MODULE_4_arcgis_react_redux_legend__[\"a\" /* MapLegend */], { className: 'thirtyPercent', mapId: mapId, title: title })\n    );\n  };\n\n  return MapUi;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"a\" /* Component */]);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    initLegend: function initLegend(view, mapId) {\n      dispatch(Object(__WEBPACK_IMPORTED_MODULE_4_arcgis_react_redux_legend__[\"c\" /* setInitialLegend */])(view, mapId));\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_2_react_redux__[\"b\" /* connect */])(null, mapDispatchToProps)(MapUi));\n\n/***/ }),\n\n/***/ \"cilB\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"hlkK\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AppMain; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"rMlB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__map_view__ = __webpack_require__(\"S7ow\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar AppMain = function (_Component) {\n  _inherits(AppMain, _Component);\n\n  function AppMain() {\n    _classCallCheck(this, AppMain);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  AppMain.prototype.render = function render() {\n    var options = {\n      url: 'https://js.arcgis.com/4.5/'\n    };\n\n    return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"c\" /* h */])(__WEBPACK_IMPORTED_MODULE_1__map_view__[\"a\" /* default */], { mapId: 'Legend example', options: options });\n  };\n\n  return AppMain;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"a\" /* Component */]);\n\n\n\n/***/ }),\n\n/***/ \"lVK7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index_css__ = __webpack_require__(\"cilB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__index_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact__ = __webpack_require__(\"rMlB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_redux__ = __webpack_require__(\"2KeS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_redux__ = __webpack_require__(\"RH2O\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_redux_thunk__ = __webpack_require__(\"4ufr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_redux_thunk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_redux_thunk__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_redux_logger__ = __webpack_require__(\"oSVy\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_redux_logger___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_redux_logger__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__reducers_app_reducers__ = __webpack_require__(\"nNjW\");\n\n\n\n\n\n\n\n\n\nif (false) {\n  // Enable preact devtools\n  require('preact/devtools');\n}\n\n\n\nvar logger = Object(__WEBPACK_IMPORTED_MODULE_5_redux_logger__[\"createLogger\"])({\n  collapsed: function collapsed(getState, action, logEntry) {\n    return !logEntry.error;\n  }\n});\n\nvar root = void 0;\nfunction init() {\n  var App = __webpack_require__(\"hlkK\").default;\n  var store = Object(__WEBPACK_IMPORTED_MODULE_2_redux__[\"d\" /* createStore */])(__WEBPACK_IMPORTED_MODULE_6__reducers_app_reducers__[\"a\" /* default */], Object(__WEBPACK_IMPORTED_MODULE_2_redux__[\"a\" /* applyMiddleware */])(__WEBPACK_IMPORTED_MODULE_4_redux_thunk___default.a, logger));\n  root = Object(__WEBPACK_IMPORTED_MODULE_1_preact__[\"e\" /* render */])(Object(__WEBPACK_IMPORTED_MODULE_1_preact__[\"c\" /* h */])(\n    __WEBPACK_IMPORTED_MODULE_3_react_redux__[\"a\" /* Provider */],\n    { store: store },\n    Object(__WEBPACK_IMPORTED_MODULE_1_preact__[\"c\" /* h */])(App, null)\n  ), document.querySelector('#app'), root);\n}\n\nif (false) {\n  module.hot.accept('./components/app-main', init);\n}\n\ninit();\n\n/***/ }),\n\n/***/ \"nNjW\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_redux__ = __webpack_require__(\"2KeS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_arcgis_react_redux_legend__ = __webpack_require__(\"EO6s\");\n\n\n\nvar AppReducers = Object(__WEBPACK_IMPORTED_MODULE_0_redux__[\"c\" /* combineReducers */])({ mapLegendConfig: __WEBPACK_IMPORTED_MODULE_1_arcgis_react_redux_legend__[\"b\" /* reducer */] });\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (AppReducers);\n\n/***/ })\n\n},[0]);\n\n\n// WEBPACK FOOTER //\n// app.c20ae69a.js","import {h, render, Component} from 'preact'\r\nimport ReactDOM from 'react-dom';\r\nimport { connect } from 'react-redux';\r\nimport EsriLoaderReact from 'esri-loader-react';\r\nimport { MapLegend, setInitialLegend } from 'arcgis-react-redux-legend';\r\nimport isWebGLEnabled from 'is-webgl-enabled';\r\nimport isMobile from 'is-mobile';\r\n\r\nclass MapUi extends Component {\r\n  initialState = {\r\n    title: null\r\n  };\r\n  state = this.initialState;\r\n  \r\n\r\n  getUrlParameter = name => {\r\n    name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\r\n    var regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\r\n    var results = regex.exec(location.search);\r\n    return results === null ? null : decodeURIComponent(results[1].replace(/\\+/g, ' '));\r\n  };\r\n\r\n  render() {\r\n    const { mapId, initLegend, options } = this.props;\r\n    const { title } = this.state;\r\n    return (\r\n      <EsriLoaderReact \r\n        mapContainerClassName='fullSize'\r\n        options={options} \r\n        modulesToLoad={[\r\n          'esri/Map',\r\n          isWebGLEnabled() && !isMobile() ? 'esri/views/SceneView' : 'esri/views/MapView',\r\n          'esri/WebMap',\r\n          'esri/layers/MapImageLayer',\r\n          'esri/layers/FeatureLayer',\r\n        ]}    \r\n        onReady={({loadedModules: [Map, View, WebMap, MapImageLayer, FeatureLayer], containerNode}) => {\r\n          \r\n          const webMapId = this.getUrlParameter('webmap');\r\n          \r\n          if (webMapId) {\r\n            \r\n            const view = new View({\r\n              container: containerNode,\r\n              map: new WebMap({\r\n                portalItem: {\r\n                  id: webMapId\r\n                }\r\n              }),\r\n              padding: { right: 280 }\r\n            });\r\n  \r\n            view.map.portalItem.then(() => {\r\n              this.setState({ title: view.map.portalItem.title });\r\n            });\r\n  \r\n            // calling this initialises the legend control\r\n            initLegend(view, mapId);                \r\n          } \r\n          else {\r\n            \r\n            const layer1 = new MapImageLayer({\r\n              url: 'https://sampleserver6.arcgisonline.com/arcgis/rest/services/RedlandsEmergencyVehicles/MapServer'\r\n            });\r\n  \r\n            const layer2 = new MapImageLayer({\r\n              url: 'https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer',\r\n              visible: false\r\n            });\r\n  \r\n            const layer3 = new MapImageLayer({\r\n              url: 'https://sampleserver6.arcgisonline.com/arcgis/rest/services/Hurricanes/MapServer/'\r\n            });\r\n\r\n            const layer4 = new FeatureLayer({\r\n              url: 'http://services2.arcgis.com/j80Jz20at6Bi0thr/arcgis/rest/services/HawaiiLavaFlowHazardZones/FeatureServer/0'\r\n            });\r\n  \r\n            const map = new Map({\r\n              basemap: 'topo',\r\n              layers: [layer1, layer4, layer2, layer3]\r\n            });\r\n  \r\n            const view = new View({\r\n              container: containerNode,\r\n              map: map,\r\n              padding: { right: 280 }\r\n            });\r\n  \r\n            // calling this initialises the legend control\r\n            initLegend(view, mapId);\r\n  \r\n            layer3.then(function(lyr) {\r\n              view.goTo(lyr.fullExtent);\r\n            });                \r\n          }\r\n        }}\r\n        onError={error => console.error(error)}\r\n      >\r\n        <MapLegend className='thirtyPercent' mapId={mapId} title={title} />\r\n      </EsriLoaderReact>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    initLegend: (view, mapId) => {\r\n      dispatch(setInitialLegend(view, mapId));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(MapUi);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/map-view.js","import {h, Component} from 'preact'\r\n\r\nimport MapUi from './map-view';\r\n\r\nexport default class AppMain extends Component {\r\n  \r\n  render() {\r\n    const options = {\r\n      url: 'https://js.arcgis.com/4.5/'\r\n    };\r\n\r\n    return (\r\n      <MapUi mapId={'Legend example'} options={options} />\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/app-main.js","import './index.css'\n\nimport {h, render} from 'preact'\n\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\n\nif (process.env.NODE_ENV === 'development') {\n  // Enable preact devtools\n  require('preact/devtools')\n}\n\nimport AppReducers from './reducers/app-reducers';\n\nconst logger = createLogger({\n  collapsed: (getState, action, logEntry) => !logEntry.error\n});\n\nlet root\nfunction init() {\n  let App = require('./components/app-main').default\n  const store = createStore(AppReducers, applyMiddleware(thunk, logger));\n  root = render(\n    <Provider store={store}>\n      <App />\n    </Provider>, \n    document.querySelector('#app'), \n    root)\n}\n\nif (module.hot) {\n  module.hot.accept('./components/app-main', init)\n}\n\ninit()\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { combineReducers } from 'redux';\r\nimport { reducer as mapLegendConfig } from 'arcgis-react-redux-legend';\r\n\r\nconst AppReducers = combineReducers({ mapLegendConfig });\r\n\r\nexport default AppReducers;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/app-reducers.js"],"sourceRoot":""}